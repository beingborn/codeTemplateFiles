<!DOCTYPE html>
<html lang="ko">
<head>
  <title>이민혁 코드 스타일 정리</title>
  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="guide.css">
</head>
<body>
  <div class="cont">
    <header class="main-info">
      <div class="main-info-wrap">
        <div class="page-info">
          <h2 class="main-info-tit">Guide v01</h2>
        </div>
        <div class="count-info">
          <span class="markup">마크업 : <strong></strong></span>
          <span>/</span>
          <span class="js">자바스크립트 : <strong></strong></span>
        </div>
        <!-- 툴팁 -->
        <div class="file_search">
          <form class="file_lst_search">
            <fieldset>
              <legend>
                검색
                <a href="#" class="file_tooltip">
                  ?
                  <div class="file_tooltip_box">
                    <p><strong>필터 버튼이 활성화된 상태</strong>에서 인풋에 값을 넣으면 해당 검색어를 포함한 행을 <strong>실시간으로 필터링</strong>합니다.</p>
                    <br>
                    <p><strong>검색모드 버튼이 활성화된 상태</strong>에선 인풋에 <strong>값을 넣고 검색 버튼을 클릭해야만</strong> 데이터가 필터링됩니다.</p>
                  </div>
                </a>
              </legend>
              <input type="text" id="search" placeholder="검색어를 입력해주세요.">
              <button class="search-btn" id="search-confirm">검색</button>
              <button class="btn-function" id="fastModeBtn">필터</button>
              <button class="btn-function" id="slowModeBtn">검색모드</button>
            </fieldset>
          </form>
        </div>
      </div>
    </header>
    <table class="file_lst">
      <colgroup>
        <col width="15%" />
        <col width="10%" />
        <col width="25%" />
        <col width="20%" />
        <col width="30%" />
      </colgroup>
      <thead>
        <tr>
          <th>형식</th>
          <th>카테고리</th>
          <th>제목</th>
          <th>URL</th>
          <th>비고</th>
        </tr>
      </thead>
      <tbody>
        <tr class="line markup">
          <td>컴포넌트 > 아이콘</td>
          <td>markup</td>
          <td>아이콘 스타일 모음</td>
          <td><a href="/markup/아이콘스타일.html">아이콘스타일.html</a></td>
          <td></td>
        </tr>
        <tr class="line js">
          <td>기능 > 화면크기변경</td>
          <td>js</td>
          <td>화면크기변경</td>
          <td><a href="/js/화면크기변경.html">화면크기변경.html</a></td>
          <td></td>
        </tr>
        <tr class="line js">
          <td>기능 > 사용자입력폼받기</td>
          <td>js</td>
          <td>사용자입력폼받기</td>
          <td><a href="/js/사용자입력폼받기.html">사용자입력폼받기.html</a></td>
          <td></td>
        </tr>
        <tr class="line js">
          <td>기능 > 탭메뉴클래스제어</td>
          <td>js</td>
          <td>탭메뉴클래스제어</td>
          <td><a href="/js/탭메뉴클래스제어.html">탭메뉴클래스제어.html</a></td>
          <td></td>
        </tr>
        <tr class="line js">
          <td>기능 > 탭메뉴해쉬연결</td>
          <td>js</td>
          <td>탭메뉴해쉬연결</td>
          <td><a href="/js/탭메뉴해쉬연결.html">탭메뉴해쉬연결.html</a></td>
          <td></td>
        </tr>
        <tr class="line js">
          <td>기능 > 제이쿼리 아코디언</td>
          <td>js</td>
          <td>제이쿼리_아코디언_기본</td>
          <td><a href="/js/제이쿼리_아코디언_기본.html">제이쿼리_아코디언_기본.html</a></td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>
  <script src="/guide.js"></script>

  <script>
    /* 검색 전환 */
    $('.file_lst_search .btn-function').eq(0).addClass('is-active')
    $('.file_lst_search .btn-function').click(function () {
      $('.file_lst_search .btn-function').not($(this)).removeClass('is-active')
      $(this).addClass('is-active');
    })
    let searchMode = "fastmode"; // 기본값을 패스트 모드로 설정
    const fastModeBtn = document.querySelector('#fastModeBtn')
    const slowModeBtn = document.querySelector('#slowModeBtn')
    fastModeBtn.addEventListener('click',function(event){
      event.preventDefault();
      searchMode = "fastmode";
      searchBtn.disabled = true;
    })
    slowModeBtn.addEventListener('click',function(event){
      event.preventDefault();
      searchMode = "slowmode"
      searchBtn.disabled = false;
    })
    let filterValue;
    let searchTbody;
    let rows;
    document.addEventListener('DOMContentLoaded', function(){
      if (searchMode = "fastmode"){
        searchBtn.disabled = true;
      } else {
        searchBtn.disabled = false;
      }
      const searchInput = document.querySelector('#search')
      searchTbody = document.querySelector('.file_lst tbody');
      searchInput.addEventListener('keyup', function(){
        filterValue = searchInput.value;
        if (searchMode == "fastmode"){
          // 해당 요소의 tr들 모두 배열로 넣기
          rows = searchTbody.querySelectorAll('tr');
          for (var i = 0; i < rows.length; i++){
            var rowText = rows[i].textContent;
            if(rowText.includes(filterValue)){
              rows[i].style.display = '';
            } else {
              rows[i].style.display = 'none'
            }
          }
        } 
      })
    })
    // 검색 버튼 기능
    const searchBtn = document.querySelector('#search-confirm')
    searchBtn.addEventListener('click',function(event){
      event.preventDefault();
      const pageNameRows = searchTbody.querySelectorAll('tr');
      let matched = false;
      for (var i = 0; i < pageNameRows.length; i++){
        var pageNumText = pageNameRows[i].textContent;
        // 각각의 tr의 text컨텐츠의 filterValue가 포함되어있다면, tr의 display값을 'block'
        if(pageNumText.includes(filterValue)){
          pageNameRows[i].style.display = '';
          matched = true;
        } else {
          pageNameRows[i].style.display = 'none';
        }
      } 
      // 검색어가 없을 경우
      if (matched === false) {
          const noDataTr = document.createElement('tr')
          const noDataTd = document.createElement('td')
          noDataTd.textContent = "조회된 데이터가 없습니다."
          noDataTd.setAttribute('colspan', '6')
          noDataTd.setAttribute('style', 'text-align: center;')
          noDataTr.appendChild(noDataTd);
          searchTbody.appendChild(noDataTr)
          return false;
      }
    })
  </script>
</body>

</html>